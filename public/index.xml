<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>devocのブログ</title>
    <link>/</link>
    <description>Recent content on devocのブログ</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 09 Jul 2022 14:40:08 +0900</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>2022年6月に食べたラーメン</title>
      <link>/2022/07-09/</link>
      <pubDate>Sat, 09 Jul 2022 14:40:08 +0900</pubDate>
      
      <guid>/2022/07-09/</guid>
      <description>こんにちは。6月は雨が降ったり、暑かったりしてほとんどラーメンを食べに外に行くことありませんでした。そのおかげか、4月から続けているダイエットの効果がグッと出て、少し前に目標体重の60kgを下回ることができました。このまま体重をキープしつつ、美味しいラーメンを食べていきたいですね
丼頭  長岡生姜ラーメン しょうがの湯 黒豚ちらし生姜ラーメン    らーめん花楽 上溝店 黒醤油ラーメン   参考  </description>
    </item>
    
    <item>
      <title>Ansibleを用いてこのブログのデプロイを自動化した</title>
      <link>/2022/06-11/</link>
      <pubDate>Fri, 10 Jun 2022 16:49:21 +0900</pubDate>
      
      <guid>/2022/06-11/</guid>
      <description>こんにちは。最近になって、約２ヶ月取り組んでいるダイエットの効果がでてきて、俄然やる気が出てきているkumicoです。この記事は、ブログのデプロイをAnsibleで自動化した話について書いています。
このブログについて このブログは、devocのブログを支える技術 with Caddyという記事で紹介したように、VPS上にDockerを立てて、ブログのページと配信サーバをコンテナとして動かしています。
新たに記事を投稿するときは、以下のような手順を行なっていました。
 手元のPCで記事を執筆する Hugoを使ってビルドする ビルドしたファイルごとGitHubにプッシュする GitHub Actionsを使って，Dockerイメージのビルドを行う（このときブログページをコンテナにコピーしている） ビルドしたイメージをGitHub Container Registryにプッシュする VPSにSSHして最新のコンテナイメージをpullしてコンテナを起動すれば，投稿完了 &amp;lt;&amp;mdash; デプロイするたびに、VPSにsshして最新のコンテナイメージをプルして、動いてるコンテナをkillしてからプルしてきたイメージを使ってコンテナを立て直さないといけない。  今回は6のところをGitHub ActionsからAnsibleを使うことで、自動化しました。
ワークフロー 以下のようなワークフローを作成しました。
 deploy: needs: push runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 - name: Install Ansible run: sudo apt install -y ansible //ランナーにAnsibleをインストール - name: setup ssh config env: SSH_AUTH_SOCK: /tmp/ssh_agent.sock run: | mkdir -p ~/.ssh ssh-keyscan &amp;#34;ssh先のドメイン名&amp;#34; &amp;gt;&amp;gt; ~/.ssh/known_hosts //これをいれとかないと、インタラクティブな処理が入る echo &amp;#34;${{ secrets.LIGHTSAIL_PRIVATE }}&amp;#34; &amp;gt; ~/.ssh/id_rsa //リポジトリに登録した秘密鍵をActionsのランナーに登録 chmod 600 ~/.</description>
    </item>
    
    <item>
      <title>2022年4,5月に食べたラーメン</title>
      <link>/2022/05-30/</link>
      <pubDate>Mon, 30 May 2022 00:48:43 +0900</pubDate>
      
      <guid>/2022/05-30/</guid>
      <description>こんにちは。4月にあまりラーメンを食べに行くことができなかったため4、5月分をまとめて投稿しました。めっちゃ歩いたり、片道10km以上自転車を走らせて食べに行ったお店もあります。ラーメンばかり食べていると太ってしまうので運動は大切ですね。
丼頭  町田汁場 しおらーめん進化 本店 しお全部載せ    ラーメン二郎 横浜関内店 小ラーメン&amp;#43;汁なし    エアーストリーム 魚介味噌つけ麺(大盛り)    大勝軒 淵野辺店 チャーシューめん ふつう    ラーメン 厚木家 チャーシューメン(かため こいめ)&amp;#43;ライス   参考      </description>
    </item>
    
    <item>
      <title>2022年3月に食べたラーメン</title>
      <link>/2022/04-03/</link>
      <pubDate>Sun, 03 Apr 2022 16:14:10 +0900</pubDate>
      
      <guid>/2022/04-03/</guid>
      <description>こんにちは．今回の記事は初の趣味に関する記事です．私はラーメンが一番好きな食べ物なので，ラーメン屋さんに行くことがよくあります．月１くらいで行ったラーメン屋さんまとめをやっていこうと思ってるので，ブログ見てくれた人の食欲を刺激していこうと思ってます．
丼顔 画像のフォーマットを変更すると向きが変わってしまって，いい感じに表示する方法がパッと出てこなかったので向きがおかしくなってます．次回からは気をつけます．
 はじめ家 チャーシューメン    らーめん526 正油豚増    マリモ 醤油ラーメン＋バター    蒙古タンメン中本 蒙古タンメン＋バター    杉田家 中盛ラーメン＋ライス   参考      </description>
    </item>
    
    <item>
      <title>devocのブログを支える技術 with Caddy</title>
      <link>/2022/03-24/</link>
      <pubDate>Thu, 24 Mar 2022 16:08:40 +0900</pubDate>
      
      <guid>/2022/03-24/</guid>
      <description>こんにちは．入社してからあるであろう健康診断のために付け焼き刃の努力で運動しているkumicoです．前回の記事ではHugoを使ってブログをつくった話をやりました．今回はこのブログの運用方法について，ホスティング方法を交えて紹介していこうと思います．
技術 Amazon Lightsail: AWSのVPSサービス．安い！！！とにかく安い！！！
Docker: ブログページと配信サーバを一つのDockerイメージにしている．
Caddy: Go製のwebサーバ．機能が豊富で，自動でhttps化してくれる．
構成 このブログは僕のホームページをホスティングしているVPSと同じインスタンスを使用しています．構成は以下のようにしています．
単一インスタンスにDockerをインストールしてホームページとブログはコンテナとして動かし，Caddyがドメインに応じてサービスを公開しているポートにプロキシするようにしています．プロキシするCaddyをコンテナとして動かしていないのは，僕の好みです．
プロキシするためのCaddyの設定Caddyfileは以下のような感じです．
hoge.example {  reverse_proxy :8000 } blog.hoge.example {  reverse_proxy :9000 } これだけの設定でドメインに応じてプロキシし，80，443ポートで待ち受けてくれるので非常に簡単です．
投稿する流れ  手元のPCで記事を執筆する Hugoを使ってビルドする ビルドしたファイルごとGitHubにプッシュする GitHub Actionsを使って，Dockerイメージのビルドを行う（このときブログページをコンテナにコピーしている） ビルドしたイメージをGitHub Container Registryにプッシュする VPSにSSHして最新のコンテナイメージをpullしてコンテナを起動すれば，投稿完了  ちなみにブログのDockerイメージの元になるDockerfileはこんな感じです．
FROMcaddy:2.4.6-alpineCOPY Caddyfile /etc/caddy/CaddyfileCOPY public/ /blog/publicVolumecaddy_data:/dataブログの配信にもCaddyを使っていて，公式のDockerイメージが配布されています．
VPSにSSHして最新のイメージpullするの面倒じゃね？ 上記の5の後に，GitHub ActionsからVPSにSSHしてコマンド実行するみたいなことをやりたい．Ansibleとか使えないか気になっている．これやれば，GitHubにpushするだけで，ブログ投稿が可能になる
参考  Caddy Document VirtualHostをお手軽に実現できるDockerコンテナnginx-proxyの起動方法  </description>
    </item>
    
    <item>
      <title>静的サイトジェネレータ「Hugo」を用いて自作ブログをつくった</title>
      <link>/2022/03-04-2/</link>
      <pubDate>Fri, 04 Mar 2022 20:11:57 +0900</pubDate>
      
      <guid>/2022/03-04-2/</guid>
      <description>なぜ自作ブログなのか 世の中には，Qiitaやはてなブログなどのブログサービスがたくさんあります．おれおれの自作ブログよりも有名なパブリックサービスを利用したほうが，多くの人に読んでもらえる機会は増えると思うのですが，筆者の性格上，そのようなところに投稿する場合，投稿する前に，「内容はこれでいいのか」，「こんな内容で投稿するのは嫌だ」のような，意味のないプライドが投稿する邪魔をします（自分のことだからよくわかる）．ブログをはじめた目的が，文書を書く練習することなので，少しでも投稿することに対してのハードルを下げるために，自作ブログという手段を選びました．
なぜHugoなのか はじめのころは，下の図のような仕組みを考えていました．
リクエストに応じて，対応する記事のMarkdownをHTMLに変換して，変換したファイルを返すという処理を実装していて，初期の頃はこれでいいかと思っていたのですが，タグくらいは欲しいなぁと思うようになり，ページ分割どうする？となってしまったので，初期の構成をあきらめ，Hugoに乗り換えました．また，完全に言い訳になってしまうのですが，初期の構想を考えていたのが，2021年の10~11月頃で，途中から卒業論文の執筆などで中断してしまい，やる気がどこかに行ってしまったのも原因です．
Hugoは静的サイトジェネレータとよばれるもので，サイトの雛形生成やユーザに応じてデザインを変更しやすくする仕組みを提供してくれます．ユーザはMarkdownでページを作成でき，HugoがHTMLに変換してくれます．
Hugoにはたくさんの便利な機能がありますが，基本的には「ジェネレータ」です．MarkdownをHTMLにビルドするだけです．つまり，ビルドしたファイルを，グローバルなサーバに転送し，なにかしらの方法でインターネットから見えるようにすれば，それはブログとして成り立つということです．Hugoの機能はとても複雑ですが，役割自体はとてもシンプルなので，筆者はHugoを使いました．
おわりに Hugoのおかげで，簡単に自作ブログをはじめることができました．筆者の場合は，一晩で構築することができたので，なるべく早く，簡単に自作ブログをはじめたいという人には，Hugoのような静的サイトジェネレータを利用するのがいいじゃないかと思います．</description>
    </item>
    
    <item>
      <title>ブログはじめました</title>
      <link>/2022/03-04/</link>
      <pubDate>Fri, 04 Mar 2022 18:10:27 +0900</pubDate>
      
      <guid>/2022/03-04/</guid>
      <description>はじめまして こんにちは．kumicoといいます．今日からひっそりとブログをはじめました．
私は文章を書くのが苦手で，自分が思っていることを言葉にしたり，文章に落とし込むのがとても下手です．なので，少しでも苦手意識を減らせるように記事を書いていこうと思います．</description>
    </item>
    
  </channel>
</rss>
